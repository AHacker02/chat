(this["webpackJsonpimessage-clone"]=this["webpackJsonpimessage-clone"]||[]).push([[0],{180:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},277:function(e,t,a){},376:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a(20),s=a.n(r),i=(a(242),a(243),a(40)),o=a(85),u=a(417),l=a(425),d=a(413),j=a(190),m=a.n(j),h=(a(244),a(245),a(15)),p=a(62),b=a(36),f=a(38),O=a.n(f),g=a(64),x=a(33),v=a(86),y=a.n(v),N=a(142),w=a.n(N),_="https://imessage-clone-signalr.herokuapp.com/",S="/api/Auth/login",C="/api/chat/create-group",k=function(){var e=w.a.create({baseURL:_});return e.interceptors.response.use((function(e){return I(e)}),(function(e){return E(e)})),e.defaults.headers.common["Content-Type"]="application/json",e.defaults.headers.post["Content-Type"]="application/json",e.CancelToken=w.a.CancelToken,e}(),I=function(e){return e.data.isSuccess?e:Promise.reject({response:e,message:e.data.message})},E=function(e){var t,a;return(null===(t=e.response)||void 0===t?void 0:t.headers["application-error"])?e.message=e.response.headers["application-error"]:(null===(a=e.response)||void 0===a?void 0:a.data.message)&&(e.message=e.response.data.message),Promise.reject(e)};var A,R,z,M=k,T={chats:{},selectedChat:null,searchResult:[]},U=function(e){return e.length>30?e.substr(0,30)+"...":e},L=Object(x.b)("chat/search",function(){var e=Object(g.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==typeof R&&R.cancel("Operation canceled due to new request."),R=M.CancelToken.source(),e.next=4,M.get("/api/auth/search-user",{params:{userSearch:t},cancelToken:R.token});case 4:return n=e.sent,e.abrupt("return",n.data.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),P=Object(x.b)("chat/selectChat",function(){var e=Object(g.a)(O.a.mark((function e(t,a){var n,c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.getState().chat.chats[t.id]){e.next=7;break}return e.next=3,M.get("/api/chat/messages",{params:{threadId:t.id}});case 3:return n=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},t),{},{messages:n.data.data}));case 7:return c=JSON.parse(sessionStorage.getItem("user")),e.next=10,M.post(C,JSON.stringify({Users:[t.id,c.user.id]}));case 10:return r=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},t),{},{id:r.data.data.id,messages:[]}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),J=Object(x.b)("chat/createGroup",function(){var e=Object(g.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post(C,JSON.stringify(t));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),B=Object(x.c)({name:"chat",initialState:T,reducers:{setChatList:function(e,t){y.a.forIn(y.a.mapKeys(t.payload,"id"),(function(t,a){t.lastMessage=U(t.lastMessage),e.chats[a]=t}))},setStatus:function(e,t){var a=y.a.values(e.chats).filter((function(e){return e.email===t.payload.email}))[0];a.status=t.payload.status,a.clientId=t.payload.clientId,e.chats[a.id]=a},addMessage:function(e,t){var a;e.chats[t.payload.threadId].messages||(e.chats[t.payload.threadId].messages=[]),e.chats[t.payload.threadId].messages.push(t.payload),e.chats[t.payload.threadId].lastMessage=U(t.payload.messageText),e.chats[t.payload.threadId].lastMessageTime=t.payload.sentAt,(null===(a=e.selectedChat)||void 0===a?void 0:a.id)===t.payload.threadId&&e.selectedChat.messages.push(t.payload)},clearChatSelection:function(e){e.selectedChat=T.selectedChat},resetChat:function(e,t){return T}},extraReducers:(A={},Object(p.a)(A,L.fulfilled,(function(e,t){e.searchResult=t.payload})),Object(p.a)(A,P.fulfilled,(function(e,t){e.selectedChat=t.payload,e.chats[t.payload.id]=t.payload,e.searchResult=T.searchResult})),A)}),G=B.actions,D=G.setChatList,W=G.addMessage,F=G.setStatus,V=G.resetChat,K=G.clearChatSelection,q=function(e){return e.chat.selectedChat},H=function(e){return e.chat.chats},Q=function(e){return e.chat.searchResult},X=B.reducer,Y=a(117),Z=a.n(Y),$=function(e){var t,a=e.contact,c=Object(h.c)(),r=Object(h.d)(q);return Object(n.jsxs)("div",{onClick:function(){c(P(a))},className:"sidebarChat ".concat((null===r||void 0===r?void 0:r.id)===a.id?"sidebarChat__selected":null),children:[Object(n.jsx)(l.a,{src:null!==(t=a.photo)&&void 0!==t?t:"https://ui-avatars.com/api/?name=".concat(a.firstName,"+").concat(a.lastName,"&background=random")}),Object(n.jsxs)("div",{className:"sidebarChat__info",children:[Object(n.jsx)("h3",{children:"".concat(a.firstName," ").concat(a.lastName)}),Object(n.jsx)("p",{children:a.lastMessage}),Object(n.jsx)("small",{children:a.status?"Online"===a.status?"Online":Z()(a.status).calendar():null})]})]})},ee=Object(x.c)({name:"app",initialState:{form:{},loading:{group:!1}},reducers:{setFormError:function(e,t){e.form[t.payload.name]=t.payload.error},setLoading:function(e,t){e.loading[t.payload.name]=t.payload.loading}}}),te=ee.actions,ae=te.setFormError,ne=te.setLoading,ce=function(e,t){return e.app.form[t]},re=function(e,t){return e.app.loading[t]},se=ee.reducer,ie=Object(x.b)("user/login",Object(g.a)(O.a.mark((function e(){var t,a,n,c=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,a=c.length>1?c[1]:void 0,!sessionStorage.getItem("user")){e.next=6;break}return e.abrupt("return",JSON.parse(sessionStorage.getItem("user")));case 6:if(!t){e.next=23;break}return e.prev=7,a.dispatch(ne({name:"login",loading:!0})),e.next=11,M.get(S,{params:t});case 11:return n=e.sent,a.dispatch(ne({name:"login",loading:!1})),e.abrupt("return",n.data.data);case 16:throw e.prev=16,e.t0=e.catch(7),a.dispatch(ae({name:"login",error:e.t0.message})),a.dispatch(ne({name:"login",loading:!1})),new Error(e.t0);case 21:e.next=24;break;case 23:throw new Error;case 24:case"end":return e.stop()}}),e,null,[[7,16]])})))),oe=Object(x.b)("user/register",function(){var e=Object(g.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.dispatch(ne({name:"register",loading:!0})),e.next=4,M.post("/api/Auth/register",JSON.stringify(t));case 4:return n=e.sent,a.dispatch(ie({email:t.email,password:t.password})),a.dispatch(ne({name:"register",loading:!1})),e.abrupt("return",n.data.data);case 10:throw e.prev=10,e.t0=e.catch(0),a.dispatch(ae({name:"register",error:e.t0.message})),a.dispatch(ne({name:"register",loading:!1})),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()),ue=Object(x.b)("user/logout",function(){var e=Object(g.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch(V());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),le=Object(x.c)({name:"user",initialState:{user:{user:null,token:null}},extraReducers:(z={},Object(p.a)(z,ie.fulfilled,(function(e,t){e.user=t.payload,sessionStorage.setItem("user",JSON.stringify(t.payload))})),Object(p.a)(z,ue.fulfilled,(function(e){e.user=null,sessionStorage.removeItem("user")})),z)}),de=function(e){var t;return null===(t=e.user.user)||void 0===t?void 0:t.user},je=function(e){var t;return null===(t=e.user.user)||void 0===t?void 0:t.token},me=le.reducer,he=a(421),pe=a(416),be=a(189),fe=a.n(be),Oe=a(422),ge=function(e){var t=e.variant,a=void 0===t?"standard":t,r=e.exclude,s=void 0===r?[]:r,o=e.selectResult,u=Object(h.c)(),l=Object(h.d)((function(e){return re(e,"search")})),d=Object(h.d)(Q),j=Object(c.useState)(""),m=Object(i.a)(j,2),p=m[0],f=m[1],O=function(e){f(e.target.value)};return Object(c.useEffect)((function(){""!==p&&u(L(p))}),[p]),Object(n.jsx)(Oe.a,{inputValue:p,freeSolo:!0,disableClearable:!0,onChange:function(e,t){o(t),f("")},loading:l,filterOptions:function(e,t){return e},getOptionLabel:function(e){return"".concat(e.firstName," ").concat(e.lastName)},options:d.filter((function(e){return!s.includes(e.id)})),renderInput:function(e){return Object(n.jsx)(he.a,Object(b.a)(Object(b.a)({onChange:O},e),{},{placeholder:"Search user",margin:"dense",fullWidth:!0,variant:a,InputProps:Object(b.a)(Object(b.a)({},e.InputProps),{},{type:"search",startAdornment:Object(n.jsx)(pe.a,{position:"start",children:Object(n.jsx)(fe.a,{})})})}))}})},xe=a(193),ve=a.n(xe),ye=a(191),Ne=a.n(ye),we=a(192),_e=a.n(we),Se=function(e){var t,a=e.signOut,r=Object(h.d)(de),s=Object.values(Object(h.d)(H)),j=Object(h.d)(q),p=Object(h.c)(),b=window.innerWidth<=768,f=Object(c.useState)(!1),O=Object(i.a)(f,2),g=O[0],x=O[1];Object(c.useEffect)((function(){x(!(!b||!j))}),[j]);return Object(n.jsxs)("div",{className:g?"sidebar hide":"sidebar",children:[Object(n.jsxs)("div",{className:"sidebar__header",children:[Object(n.jsx)(u.a,{title:"Sign Out",arrow:!0,children:Object(n.jsx)(l.a,{onClick:a,src:null!==(t=r.photo)&&void 0!==t?t:"https://ui-avatars.com/api/?name=".concat(r.firstName,"+").concat(r.lastName,"&background=random"),className:"sidebar__avatar"})}),Object(n.jsx)("div",{className:"sidebar__input",children:Object(n.jsx)(ge,{exclude:[r.id].concat(Object(o.a)(null===s||void 0===s?void 0:s.map((function(e){return e.id})))),variant:"outlined",selectResult:function(e){p(P(e))}})}),Object(n.jsx)(u.a,{title:"Create Group",arrow:!0,children:Object(n.jsx)(d.a,{onClick:function(){return p(ne({name:"group",loading:!0}))},children:Object(n.jsx)(m.a,{})})})]}),Object(n.jsx)("div",{className:"sidebar__chat",children:s.map((function(e){return Object(n.jsx)($,{contact:e},e.id)}))}),Object(n.jsxs)("div",{className:"sidebar__footer",children:[Object(n.jsx)("a",{href:"https://www.linkedin.com/in/arghya-ghosh-dotnetbuilders",target:"_blank",children:Object(n.jsx)(Ne.a,{fontSize:"large"})}),Object(n.jsx)("a",{href:"https://www.dotnetbuilder.com",target:"_blank",children:Object(n.jsx)(_e.a,{fontSize:"large"})}),Object(n.jsx)("a",{href:"https://github.com/AHacker02/imessage-clone",target:"_blank",children:Object(n.jsx)(ve.a,{fontSize:"large"})})]})]})},Ce=(a(268),a(195)),ke=(a(269),Object(c.forwardRef)((function(e,t){var a=e.messageText,c=e.sentAt,r=e.sentBy,s=Object(h.d)(de);return Object(n.jsxs)("div",{ref:t,className:"message ".concat(s.id===r&&"message__sender"),children:[Object(n.jsx)("p",{children:a}),Object(n.jsx)("small",{children:Z()(c).fromNow()})]})}))),Ie=function(){var e=Object(c.useRef)();return[e,function(){e.current&&e.current.scrollIntoView({behavior:"smooth",block:"start"})}]},Ee=a(194),Ae=a.n(Ee),Re=function(e){var t,a,r=e.sendMessage,s=Object(c.useState)(""),o=Object(i.a)(s,2),u=o[0],l=o[1],d=Ie(),j=Object(i.a)(d,2),m=j[0],p=j[1],f=Object(h.d)(q),O=window.innerWidth<=768,g=Object(c.useState)(!1),x=Object(i.a)(g,2),v=x[0],N=x[1],w=Object(h.c)();if(f)try{a=f.messages,a=y.a.orderBy(a,["sentAt"],["asc"])}catch(_){console.log(_)}return Object(c.useEffect)((function(){N(!(!O||f))}),[f]),Object(c.useEffect)((function(){p()}),[f]),Object(c.useEffect)((function(){p()}),[]),Object(n.jsxs)("div",{className:v?"chat hide":"chat",children:[Object(n.jsxs)("div",{className:"chat__header",children:[function(){if(O)return Object(n.jsx)(Ae.a,{onClick:function(){return w(K())}})}(),Object(n.jsxs)("h4",{children:["To:"," ",Object(n.jsx)("span",{className:"chat__name",children:f?"".concat(null===f||void 0===f?void 0:f.firstName," ").concat(null===f||void 0===f?void 0:f.lastName):null})]})]}),Object(n.jsxs)("div",{className:"chat__messages",children:[Object(n.jsx)(Ce.a,{children:null===(t=a)||void 0===t?void 0:t.map((function(e){return Object(n.jsx)(ke,Object(b.a)({},e),e.id)}))}),Object(n.jsx)("div",{ref:m,className:"list-bottom"})]}),Object(n.jsx)("div",{className:"chat__input",children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(u),l("")},children:[Object(n.jsx)("input",{value:u,disabled:!f,onChange:function(e){return l(e.target.value)},placeholder:"Type a message",type:"text"}),Object(n.jsx)("button",{type:"submit",children:"Send Message"})]})})]})},ze=(a(270),a(198)),Me=a(124),Te=(Me.a.initializeApp({apiKey:"AIzaSyDd7RkOx-DN8Op7rU2NRpnaR3tghTr1Ec8",authDomain:"imessage-clone-54a5a.firebaseapp.com",projectId:"imessage-clone-54a5a",storageBucket:"imessage-clone-54a5a.appspot.com",messagingSenderId:"662929065374",appId:"1:662929065374:web:edec7a6203bc96d36c428f"}),Me.a.auth()),Ue=new Me.a.auth.GoogleAuthProvider;Ue.setCustomParameters({prompt:"select_account"});var Le=a(424),Pe=a(418),Je=a(419),Be=a(414),Ge=a(415),De=a(420),We=a(92),Fe=a(181),Ve=a(182),Ke=function(e){var t=e.input,a=e.meta,c=e.type,r=e.margin,s=void 0===r?"normal":r,i=a.touched&&a.error;return Object(n.jsx)(he.a,Object(b.a)({error:i,label:t.name.charAt(0).toLocaleUpperCase()+t.name.slice(1),type:c,margin:s,helperText:i?a.error:null},t))},qe=(a(277),"group"),He=Object(Ve.a)({form:"group"})((function(e){var t=e.group,a=void 0===t?null:t,r=e.handleSubmit,s=Object(h.d)((function(e){return re(e,qe)})),u=Object(h.d)((function(e){return ce(e,qe)})),d=Object(h.c)(),j=Object(h.d)(de),m=Object(c.useState)([j]),p=Object(i.a)(m,2),b=p[0],f=p[1],O=Ie(),g=Object(i.a)(O,2),x=g[0],v=g[1];Object(c.useEffect)((function(){v()}),[b]);return Object(n.jsxs)(Le.a,{"aria-labelledby":"group-form-title",open:s,onClose:function(){d(ne({name:"group",loading:!1})),d(Object(We.a)(qe)),f([j])},className:"group",children:[Object(n.jsx)(Pe.a,{id:"group-form-title",className:"group__title",children:Object(n.jsx)("strong",{children:a?"Add User to group":"Create new group"})}),Object(n.jsx)(Je.a,{children:Object(n.jsxs)(Be.a,{onSubmit:r((function(e){var t=b.map((function(e){return e.id}));t.length<=2?d(ae({name:qe,error:"Group must have minimum 3 members"})):(d(J({name:e.name,users:t})),d(ne({name:"group",loading:!1})))})),component:"form",margin:"standard",className:"group__form",children:[u?Object(n.jsx)(Ge.a,{error:!0,filled:!0,children:u}):null,Object(n.jsx)(Fe.a,{name:"name",type:"text",margin:"none",component:Ke}),Object(n.jsx)(ge,{selectResult:function(e){f((function(t){return[].concat(Object(o.a)(t),[e])}))},exclude:b.map((function(e){return e.id}))}),Object(n.jsx)(De.a,{type:"submit",children:"Create Group"}),Object(n.jsxs)("ul",{className:"group__list",children:[b.map((function(e){var t;return Object(n.jsxs)("div",{className:"group__user",children:[Object(n.jsx)(l.a,{src:null!==(t=e.photo)&&void 0!==t?t:"https://ui-avatars.com/api/?name=".concat(e.firstName,"+").concat(e.lastName,"&background=random")}),Object(n.jsx)("h3",{children:"".concat(e.firstName," ").concat(e.lastName)})]},e.id)})),Object(n.jsx)("div",{ref:x,className:"list-bottom"})]})]})})]})})),Qe=function(){var e=Object(h.d)(je),t=Object(c.useState)(null),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(h.d)(q),u=Object(h.c)();Object(c.useEffect)((function(){var t=(new ze.a).withUrl(_+"chat",{accessTokenFactory:function(){return e}}).withAutomaticReconnect().build();s(t)}),[e]),Object(c.useEffect)((function(){r&&(r.start().then((function(){console.log("Connected")})).catch((function(e){console.log("Connection failed:",e)})),r.on("Chats",(function(e){console.log("Chats",e),u(D(e))})),r.on("Message",(function(e){console.log("Message",e),u(W(e))})),r.on("UserStatus",(function(e){console.log("UserStatus",e),u(F(e))})))}),[r]);return Object(n.jsxs)("div",{className:"imessage",children:[Object(n.jsx)(Se,{signOut:function(){Te.signOut(),u(ue()),r.stop()}}),Object(n.jsx)(Re,{sendMessage:function(e){if(r.connectionStarted)try{r.invoke("SendMessage",o.id,e)}catch(t){console.log(t)}else alert("No connection to server yet.")}}),Object(n.jsx)(He,{})]})},Xe=a(37),Ye=Object(Xe.a)(),Ze=a(28),$e=(a(180),a(96)),et=[{name:"email",type:"email"},{name:"password",type:"password"}],tt="login",at=Object(Ve.a)({form:tt,validate:function(e){var t={};return et.forEach((function(a){e[a.name]||(t[a.name]="".concat(a.name.charAt(0).toLocaleUpperCase()+a.name.slice(1)," cannot be empty"))})),t}})((function(e){var t=Object(h.c)(),a=Object(h.d)((function(e){return ce(e,tt)})),c=Object(h.d)((function(e){return re(e,tt)})),r=function(e){t(ie(e))};return Object(n.jsx)("div",{className:"authorize",children:Object(n.jsxs)("div",{className:"authorize__container",children:[Object(n.jsxs)("div",{className:"authorize__logo",children:[Object(n.jsx)("img",{src:"https://i.redd.it/jdto14wkj9f51.png",alt:""}),Object(n.jsx)("h1",{children:"iMessage"})]}),Object(n.jsxs)(Be.a,{component:"form",margin:"normal",className:"authorize__form",onSubmit:e.handleSubmit(r),children:[a?Object(n.jsx)(Ge.a,{error:!0,filled:!0,children:a}):null,et.map((function(e){return Object(n.jsx)(Fe.a,{name:e.name,type:e.type,component:Ke},e.name)})),Object(n.jsx)(De.a,{disabled:c,type:"submit",children:"Sign In"})]}),Object(n.jsxs)("div",{className:"authorize__social",children:[Object(n.jsx)("small",{children:"Or Sign In Using"}),Object(n.jsx)("img",{onClick:function(){Te.signInWithPopup(Ue).then((function(e){r({email:e.user.email,password:e.user.uid})})).catch((function(e){return t(ae({name:tt,error:e.message}))}))},src:"https://img-authors.flaticon.com/google.jpg",alt:""})]}),Object(n.jsxs)("p",{children:["Don't have an account?"," ",Object(n.jsx)($e.a,{to:"/register",children:Object(n.jsx)("strong",{children:"Sign Up"})})]})]})})})),nt=[{name:"firstname",type:"text"},{name:"lastname",type:"text"},{name:"email",type:"email"},{name:"password",type:"password"}],ct="register",rt=Object(Ve.a)({form:ct,validate:function(e){var t={};return nt.forEach((function(a){e[a.name]||(t[a.name]="".concat(a.name.charAt(0).toLocaleUpperCase()+a.name.slice(1)," cannot be empty")),"password"===a.name&&e[a.name]&&e[a.name].length<8&&(t[a.name]="Password needs to be minimum 8 characters")})),t},asyncValidate:function(e){return M.get("/api/Auth/check-email",{params:{email:e.email}}).then((function(e){if(null===e||void 0===e?void 0:e.data.message.includes("Email already in use"))throw{email:e.data.message}}))},asyncBlurFields:["email"]})((function(e){var t=Object(h.d)((function(e){return ce(e,ct)})),a=Object(h.d)((function(e){return re(e,ct)})),c=Object(h.c)(),r=function(e){c(oe(e))};return Object(n.jsx)("div",{className:"authorize",children:Object(n.jsxs)("div",{className:"authorize__container",children:[Object(n.jsxs)("div",{className:"authorize__logo",children:[Object(n.jsx)("img",{src:"https://i.redd.it/jdto14wkj9f51.png",alt:""}),Object(n.jsx)("h1",{children:"iMessage"})]}),Object(n.jsxs)(Be.a,{component:"form",margin:"normal",className:"authorize__form",onSubmit:e.handleSubmit(r),children:[t?Object(n.jsx)(Ge.a,{error:!0,filled:!0,children:t}):null,nt.map((function(e){return Object(n.jsx)(Fe.a,{name:e.name,type:e.type,component:Ke})})),Object(n.jsx)(De.a,{disabled:a,type:"submit",children:"Create Account"})]}),Object(n.jsxs)("div",{className:"authorize__social",children:[Object(n.jsx)("small",{children:"Or Sign Up Using"}),Object(n.jsx)("img",{onClick:function(){Te.signInWithPopup(Ue).then((function(e){var t=e.user;r({firstName:t.displayName.substr(0,t.displayName.indexOf(" ")),lastName:t.displayName.substr(t.displayName.indexOf(" ")+1),email:t.email,password:t.uid,fromGoogle:!0})})).catch((function(e){return c(ae({name:ct,error:e.message}))}))},src:"https://img-authors.flaticon.com/google.jpg",alt:""})]}),Object(n.jsxs)("p",{children:["Already have an account?"," ",Object(n.jsx)($e.a,{to:"/login",children:Object(n.jsx)("strong",{children:"Login"})})]})]})})}));var st=function(){var e=Object(h.d)(de),t=Object(h.c)();return Object(c.useEffect)((function(){t(ie())}),[]),Object(c.useEffect)((function(){e?Ye.push("/"):Ye.push("/login")}),[e]),Object(n.jsx)(Ze.b,{history:Ye,children:Object(n.jsx)("div",{className:"app",children:Object(n.jsxs)(Ze.c,{children:[Object(n.jsx)(Ze.a,{path:"/login",children:Object(n.jsx)(at,{})}),Object(n.jsx)(Ze.a,{path:"/register",children:Object(n.jsx)(rt,{})}),Object(n.jsx)(Ze.a,{path:"/",children:e&&Object(n.jsx)(Qe,{})})]})})})},it=a(23),ot=a(183),ut=Object(it.c)({user:me,chat:X,form:ot.a,app:se}),lt=Object(x.a)({reducer:ut,middleware:[function(e){return function(e){return function(t){var a;return"user/login/fulfilled"===t.type&&(a=t.payload.token,k.defaults.headers.common.Authorization="Bearer ".concat(a)),e(t)}}}].concat(Object(o.a)(Object(x.d)()))});s.a.render(Object(n.jsx)(h.a,{store:lt,children:Object(n.jsx)(st,{})}),document.getElementById("root"))}},[[376,1,2]]]);
//# sourceMappingURL=main.57f0b3c3.chunk.js.map